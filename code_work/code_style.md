# Code Style

## Общее

* Не используйте сокращения и аббревиатуры в названиях переменных там, где это не является общим соглашением или конвенцией фреймворка/технологии
* Не рекомендуется использовать очень длинные названия (больше 4-5 слов)

## Комментарии в коде
Код должен быть документирован. Обязательно, как минимум, написание DockBlock комменатриев ко всем методам классов, так же к самим классам и по возможности к полям классов. DockBlock должен содержать следующую информацию:

* Входящие параметры для метода
* Возвращаемые методом значения
* Исключения, которые может вызывать метод
* Описание того что ДОЛЖЕН выполнять метод

Для написания комменатариев желательно использовать английский язык.
Если в коде есть какие-то сложные куски, которые требуют дополнительного понимания и/или содержат нетривиальную логику, необходимо к ним так же оставлять коментарии.

### Используемые инструменты
* PHPStorm — обладает встроенным генератором докблоков, плюсом подсвечивает те комментарии, которые требуют обновления, в результате изменения данных.
* Sublime Text [DockBlockr](https://github.com/Warin/Sublime/tree/master/DocBlockr) — плугин, который предоставляет почти такой же функционал.

## PHP

* Используйте для оформления кода стандарты [PSR-1](http://www.php-fig.org/psr/psr-1/), [PSR-2](http://www.php-fig.org/psr/psr-2/) и [PSR-4](http://www.php-fig.org/psr/psr-4/)
* Не используйте следующие функции и операторы
    * `compact`
    * `@`
* Используйте в условиях `&&` вместо `and` и `||` вместо `or`, так как эти операторы имеют разный приоритет

### Тернарные выражения

* Используйте тернарные выражение только в самых простых случаях. Например, для установки дефолтного значения переменной, если нет значения в нужном источнике
* Не используйте тернарные выражения с несколькими уровнями вложенности
* Не рекомендуется использовать тернарные выражения с несколькимиусловиями.

## Symfony

* Используйте [Symfony Coding Standards](http://symfony.com/doc/current/contributing/code/standards.html) для оформления своего кода
* Рекомендуется следовать [Symfony Best Practices](http://symfony.com/doc/current/best_practices/index.html)
* Сервисы НЕ используются в twig. Сервисы НЕ используются в Entity.

### Twig

* Рекомендуется не передавать сервисы в шаблоны

### Commands

* Используйте в названии команд префикс `app:`, чтобы было удобно отделять их от встроенных команд symfony и сторонних бандлов

### HipChat Notifications

* Рекомендуется параметры выносить в `parameters.yml`

### Naming conventions

* Используйте [Symfony Naming Conventions](http://symfony.com/doc/current/contributing/code/conventions.html)

#### Именование полей таблиц баз данных

* `id` для primary key. Не надо делать приставку из названия таблицы.
* `title` для полей со значением «название». Например, название новости или название страницы.
* `name` для полей со значением «имя». Например, имя человека.
* `content` для полей со значением «содержание». Например: содержание страницы, содержание новости.
* `description` для полей со значением «описание». Например: описание мероприятия, описание места, должности.
* `annotation` для полей со значением «краткое описание/аннотация». НЕ `short_description`. Например, краткое описание новости.
* `created_at` для даты создания
* `updated_at` для даты обновления
* `anythinged_at` для других дат.
* `site` для полей со значением «сайт чего-то/кого-то». Например: сайт фирмы, сайт мероприятия, сайт меня.
* `link` для полей со значением «ссылка куда-то». Например: ссылка в баннере на внешний сайт.
* `url` для поля ссылки, когда сущность сама является абстракцией ссылки. Например, есть сущность `Link` c полями `name`, `url`, `anythingelse`
* `logo` для полей со значение «логотип». Например, логотип организации.
* `photo` для полей со значением фотография пользователя (≈ аватарка).
* `image` или `path` для поля содержащего путь к изображению в случае, когда сущность сама является абстракцией изображения/фотографии
